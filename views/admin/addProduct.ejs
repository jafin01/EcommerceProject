<%- include('../layouts/head.ejs') %> 

<%- include('../partials/admin-navbar.ejs') %> 

<div class="wrapper container mt-3">
    <div class="row">
        <h1>Add Product</h1>

        <% if(product) { %> 
            <div class="row justify-content-center mt-5"> 
                <div class="col-12 col-md-7"> 
                    <form action="/admin-panel/product-management/edit-product?id=<%= product._id %>" method="post" enctype="multipart/form-data"> 
            
                        <div class="form-group"> 
                            <label for="exampleInputName1">Product Name</label> 
                            <input type="name" value="<%= product.productName %>" name="productName" class="form-control" id="productName"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <label for="exampleInputExpertise1">Actual Price</label> 
                            <input type="price" value="<%= product.actualPrice %>" name="actualPrice" class="form-control" id="price"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <label for="exampleInputExpertise1">Discounted Price</label> 
                            <input type="price" value="<%= product.discountedPrice %>" name="discountedPrice" class="form-control" id="price"> 
                        </div> 
                        <div class="mt-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Description</label>
                            <textarea class="form-control" name="description" id="exampleFormControlTextarea1" rows="3" id="description"><%= product.description %></textarea>
                        </div>
                        <div class="form-group  mt-3"> 
                            <label for="exampleInputFees1">Stock</label> 
                            <input type="stock" name="stock" value="<%= product.stock %>" class="form-control" id="stock"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <select class="form-select" value="<%= product.category %>" name="category" aria-label="Default select example"> 
                                <option selected><%= product.category %></option> 

                                <% categories.forEach((category) => { %> 
                                <option><%= category.category %></option>  
                                <% }) %> 
                                
                            </select> 
                        </div> 
                        <div class="row"> 
                            <div class="mt-3"> 
                                <input type="file" class="form-control" name="image1" id="formFile" accept="image/*"> 
                            </div>
                            <div class="mt-3"> 
                                <input type="file" class="form-control" name="image2" id="formFile" accept="image/*"> 
                            </div>
                            <button type="submit" class="btn btn-warning mt-3">Edit Product</button> 
                        </div> 
                    </form> 
                </div> 
            </div>
        <% }else{ %> 
            <div class="row justify-content-center mt-5"> 
                <div class="col-12 col-md-7"> 
                    <form action="/admin_panel/product_management/add_product" method="post" enctype="multipart/form-data"> 
            
                        <div class="form-group"> 
                            <label for="exampleInputName1">Product Name</label> 
                            <input type="name" name="productName" class="form-control" id="productName"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <label for="exampleInputExpertise1">Actual Price</label> 
                            <input type="price" name="actualPrice" class="form-control" id="price"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <label for="exampleInputExpertise1">Discounted Price</label> 
                            <input type="price" name="discountedPrice" class="form-control" id="price"> 
                        </div> 
                        <div class="mt-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Description</label>
                            <textarea class="form-control" name="description" id="exampleFormControlTextarea1" rows="3" id="description"></textarea>
                        </div>
                        <div class="form-group  mt-3"> 
                            <label for="exampleInputFees1">Stock</label> 
                            <input type="stock" name="stock" class="form-control" id="stock"> 
                        </div> 
                        <div class="form-group mt-3"> 
                            <select class="form-select" name="category" aria-label="Default select example"> 
                                <option selected>Category</option> 

                                <% categories.forEach((category) => { %> 
                                <option><%= category.category %></option>  
                                <% }) %> 
                                
                            </select> 
                        </div> 
                        <div class="row"> 
                            <div class="mt-3"> 
                                <input type="file" class="form-control" name="image1" id="formFile" accept="image/*"> 
                            </div>
                            <div class="mt-3"> 
                                <input type="file" class="form-control" name="image2" id="formFile" accept="image/*"> 
                            </div>
                            <button type="submit" class="btn btn-warning mt-3">Add Product</button> 
                        </div> 
                    </form> 
                </div> 
            </div>
        <% } %> 
    </div>


    

<%- include('../layouts/foot.ejs') %> 
