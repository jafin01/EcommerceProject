<%- include('../layouts/head.ejs') %>

<%- include('../partials/user-navbar-loggedIn.ejs') %>


<div class="container mt-5 table-responsive">
  <table id="myTable" class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Order ID</th>
        <th>Mobile</th>
        <th>Zip</th>
        <th>Total Bill</th>
        <th>Pay method</th>
        <th>Order Date</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>

      <% for(let i=0; i < orders.length; i++) { %>
      <tr>
        <td><%= orders[i].address.name %> </td>
        <td><%= orders[i]._id %> </td>
        <td><%= orders[i].address.mobile %> </td>
        <td><%= orders[i].address.zip %> </td>
        <td style="font-weight: 700;">â‚¹ <%= orders[i].orderBill %> </td>
        <td><%= orders[i].paymentMode %> </td>
        <td><%= ("0" + orders[i].orderDate.getDate()).slice(-2) %>-<%= ('0' + (orders[i].orderDate.getMonth()+1)).slice(-2) %>-<%= orders[i].orderDate.getFullYear().toString() %></td>
        <td><a href="/order-status?id=<%= orders[i]._id %>"><button type="submit" class="btn btn-success">View
              Status</button></a></td>
      </tr>
      <% } %>
      
    </tbody>
  </table>
</div>


<script>
  $(document).ready(function () {
    $('#myTable').DataTable();
  });
</script>

<%- include('../layouts/foot.ejs') %>